26.03.2017 Sistem planlamasÄ± ve sonuÃ§lar <a><code>https://ahmetozer.org/urouters.html</code></a> Ã¼zerinde yazÄ±lÄ±yor.

Ä°lk olarak projenin baÅŸlangÄ±cÄ± Raspberry pi Ã¼zerinde kurmuÅŸ olduÄŸum hotspot ile oldu. Daha sonra modem Ã¼zerinde de aynÄ± deÄŸiÅŸiklikleri yapmak istedim ama modem Ã¼zerinde bulunan firmware ve donanÄ±m desteÄŸi buna izin vermiyordu. Ä°lerleyen zamanlarda Banana pi ile devam ettim.

Tplink 722n kablosuz verici ile projeyi geliÅŸtirdim fakat geliÅŸtirirken usb wifi vericisini elimde bulunan mÄ±knatÄ±sÄ±n lehim yerlerine yapÄ±ÅŸmasÄ±yla alÄ±cÄ± yandÄ±.Airties modemi baÄŸlantÄ± noktasÄ± olarak kullandÄ±m ve aÄŸ geÃ§idi olarak Bpi (Banana pi) ayarladÄ±m. Yerel dns sunucusu, yerel proxy gibi Ã¶zellikler ekledim. Daha sonrasÄ±nda yurtdÄ±ÅŸÄ±nda bulunan sunucularÄ± da kullanarak Ã§Ä±kÄ±ÅŸ noktalarÄ±nÄ± deÄŸiÅŸtirdim. Sisteme dahili reklam engelleme Ã¶zelliÄŸi ile eve gelen misafirler reklamsÄ±z internet keyifi yaÅŸadÄ±lar ğŸ˜€

BulunduÄŸum bÃ¶lgeye VDSL2 desteÄŸi gelmesi ile beraber Airties 5443 modemin yerin TP-Link Archer VR 200 modem aldÄ±.

Åuanda VR200 modemin bÃ¼tÃ¼n yazÄ±lÄ±msal Ã¶zellikleri kapalÄ±. Bunu yapma sebebim Bpi de bulunan programlarÄ±n Modem ile Ã§akÄ±ÅŸmamasÄ± (DHCP).

Åuanda sistem ÅŸu ÅŸekilde Ã§alÄ±ÅŸÄ±yor;

https://ahmetozer.org/wp-content/uploads/2016/10/ba%C4%9Flant%C4%B1.png

Telekomdan gelen telefon kablosu modeme takÄ±lÄ±.

Modemde bridge (kÃ¶prÃ¼) modunda ve yerel aÄŸda oluÅŸan pppoe isteklerini telekoma gÃ¶nderiyor.

Banana pi de pppoe istemcisi bulunuyor . Servis saÄŸlayÄ±cÄ±sÄ±nÄ±n vermiÅŸ olduÄŸu kullanÄ±cÄ± adÄ± ve ÅŸifre bilgilerini Bpi giriyoruz. Bridge modu sayesinde ip adresini modem deÄŸil yerel aÄŸÄ±mÄ±zda bulunan Banana pi alÄ±yor.

Banana pi de bulunan Firewall  telekom baÄŸlantÄ±sÄ± Ã¼zerinden 4 farklÄ± ip dÄ±ÅŸÄ±nda gelen bÃ¼tÃ¼n istekleri engelliyor.

telekom Ã¼zerinden hollanda da bulunan HE** nin ipv6 sunucusuna baÄŸlantÄ± kuruluyor.

ipv6 baÄŸlantÄ±sÄ± Ã¼zerinden Almanya ve Amerikaâ€™da bulunan vps sunucularÄ± ile openvpn ile baÄŸlanÄ±lÄ±yor ve ÅŸifreli yerel aÄŸ kurulmuÅŸ oluyor.

Evdeki cihazlar modemde bulunan Wifi yada ethernet ile baÄŸlandÄ±ÄŸÄ±nda istekler Bpi ye gidiyor ve DHCP sonucu ile baÄŸlanan cihaza ipv4 ve ipv6 adresi veriliyor.

Bu sonuÃ§ta varsayÄ±lan aÄŸ geÃ§idi bilgisi ve DNS sunucusu olarak Bpi nin adresi veriliyor . DNS sunucunun yerel aÄŸda bulunmasÄ± ile istekler daha hÄ±zlÄ± cevap verilebiliyor. 6 farklÄ± DNS sunucusuna baÄŸlÄ± olan evdeki sunucu sonuÃ§ bulunamasÄ± halinde diÄŸerlerini deniyor.

Ã–zellikler
PPPOE istemcisi.
Normal ve reklam engelleme destekli Proxy sunucularÄ±.
DNS cacheleme ve dns Ã¼zerinden reklam engelleme.
Rygel ile Multimedya paylaÅŸÄ±mÄ±.
Samba ile NAS sistemi. AÄŸ Ã¼zerinden dosya transferi.
Openvpn ile diÄŸer sunucular ile yerel aÄŸ oluÅŸturma.
Netdata ile aÄŸ durum takibi ve sistem durumu.
Web Sunucu
ipv4 Ã¼zerinden ipv6 iletiÅŸimi.
ipv4 ve ipv6 destekli DHCP sunucusu.
BaÄŸlantÄ± saÄŸlanan ip adreslerini gÃ¶rÃ¼ntÃ¼leme.
Ä°p adresi engelleme.
Yerel aÄŸdan internete gÃ¶nderilecek bÃ¼tÃ¼n istekleri kendine yÃ¶nlendirme.
Harekete DuyarlÄ± GÃ¼venlik KamerasÄ±.
Kumanda ile sistem kontrolÃ¼ (yeniden baÅŸlat, baÄŸlantÄ± sÄ±fÄ±rla, DNS ve Ram Ã¶nbelleÄŸi temizleme â€¦.).
 GÃ¼nlÃ¼k olarak gelen giden isteklerin loglama Ã¶zelliÄŸi.   Loglar
Kumanda ,WEB ArayÃ¼zÃ¼ ve Ses ile odadaki elektronik cihazlarÄ±n elektronik baÄŸlantÄ±larÄ±nÄ± kontrol etme
AÄŸ kontrol yazÄ±lÄ±mÄ± ile baÄŸlantÄ± koptuÄŸunda sesli uyarÄ± ve otomatik baÄŸlantÄ± yeniden baÅŸlatÄ±lmasÄ±.
Servisler sÄ±kÄ±ntÄ± olduÄŸunda otomatik olarak baÅŸlatÄ±lÄ±yor.
2sn Sistem kontrolÃ¼ 8 Saniye havadurumu ve saat gÃ¶sterilecek ÅŸekilde 2 pencere arasÄ±nda sÃ¼rekli deÄŸiÅŸiyor.
pop-ekran uygulamasÄ± ile yeni bir TTY baÅŸlatÄ±labilir ve pop-ekran [TTYnumber] kodu ile sisteme otomatik giriÅŸ saÄŸlanÄ±r
NAT64 ile beraber ipv4 baÄŸlantÄ±larÄ±nÄ± ipv6 Ã¼zerinden aktarma ( Go6 Ã¼zerinden ve HE net aracÄ±lÄ±ÄŸÄ± ile ipv6)
**HE = Internet Backbone and Colocation Provider

https://ahmetozer.org/wp-content/uploads/2016/10/Screenshot_6.jpg


KasÄ±m 2016
Eski sistemin yedeÄŸi alÄ±ndÄ±. Debian gpu sÃ¼rÃ¼cÃ¼leri bulunan imaj yÃ¼klendi. GÃ¼ncelleme ile Ubuntu 16.10 SÃ¼rÃ¼mÃ¼ne yÃ¼kseltildi. Eski sistemin yedeÄŸinden programlar geri yÃ¼klendi.

Eklenenler
Sistem kontrol uygulamasÄ± yazÄ±ldÄ±.
Mopidy sorunlarÄ± dÃ¼zeltilerek sisteme yÃ¼klendi .
Pulseaudio ile kablosuz yÃ¼ksek kalitede ses aktarÄ±mÄ±.
Kumandadan Spotify sunucusunun kontrolÃ¼ ve ses Ã§Ä±kÄ±ÅŸÄ±nÄ±n deÄŸiÅŸimi (Bilgisayar, monitÃ¶r yada salonda bulunan chip)
Sistem sesli olarak TÃ¼rkÃ§e konuÅŸarak oluÅŸan sorunlarÄ± bildirmesi ve otomatik Ã§Ã¶zÃ¼m eklendi.
Telefon ve benzeri aygÄ±tlarÄ± usb ile baÄŸlandÄ±ÄŸÄ±nda aÄŸ Ã¼zerinden (web yada nas) dosya paylaÅŸÄ±mÄ± eklendi.


https://ahmetozer.org/wp-content/uploads/2016/10/musicbox_webclient-300x141.png
https://ahmetozer.org/wp-content/uploads/2016/10/72c2eda310231d9-300x225.jpg
https://ahmetozer.org/wp-content/uploads/2016/10/Ekran-G%C3%B6r%C3%BCnt%C3%BCs%C3%BC-117-300x169.png
https://ahmetozer.org/wp-content/uploads/2016/10/Ekran-G%C3%B6r%C3%BCnt%C3%BCs%C3%BC-120-300x169.png
https://ahmetozer.org/wp-content/uploads/2016/10/Ekran-G%C3%B6r%C3%BCnt%C3%BCs%C3%BC-121-300x169.png
https://ahmetozer.org/wp-content/uploads/2016/10/Screenshot_2016-12-19_17-46-16-300x240.png

Åubat 2017
Root dns serverlar ile baÄŸlantÄ± oluÅŸturuldu ve Ã¼zerinde private dns server bulunmakta. DNS64 ve NAT64 desteÄŸi eklendi.

ipv4 baÄŸlantÄ±larda artÄ±k ipv6 Ã¼zerinden iletiÅŸim kurmakta
bÃ¼tÃ¼n dns sunucularÄ± kendi kurduÄŸum sunuculara zorunlu olarak yÃ¶nlendirildi. BÃ¶ylece aÄŸÄ±ma katÄ±lan kullanÄ±cÄ± hangi dns sunucusunu kullanÄ±rsa kullansÄ±n benim dns sunucumu kullanmÄ±ÅŸ oluyor. Bu TÃ¼rkiye de bulunan servis saÄŸlayÄ±cÄ±larÄ±nÄ±n yaptÄ±ÄŸÄ± dns kirliliÄŸini engelliyor ve 1 ms iÃ§inde cevap vererek normal e gÃ¶re Ã§ok hÄ±zlÄ± cevap vermiÅŸ oluyor.

uln2003 ile Gpio dan Ã§Ä±kan baÄŸlantÄ±larÄ±n topraklanmasÄ± saÄŸlandÄ±. OdanÄ±n lambasÄ± ve Sistem Kontrol ekranÄ±na RÃ¶le ile baÄŸlantÄ± eklendi. Kumanda Ã¼zerinden monitÃ¶r ve Oda lambasÄ±nÄ±n kontrolÃ¼ saÄŸlandÄ±.

Gereksiz kaynak kullanÄ±mÄ±nÄ± azaltmak iÃ§in X masaÃ¼stÃ¼ ortamÄ± kapatÄ±ldÄ±. Onun yerine kumandadan ekran deÄŸiÅŸtirilebilen ve screen ile baÄŸlantÄ± kurulabilen teletext tarzÄ± sistem getirildi.

Teletext tarzÄ± sisteme hava durumu entegre edildi. Otomatik dÃ¶ngÃ¼ saÄŸlandÄ±.

2. Banana Pi ye Amazon Alexa port edildi ve kuruldu. Alexa ile sistem Entegrasyonu devam ediyor. Åuanda konuÅŸarak odada bulunan sistemler kontrol edilebiliyor.

2 adet 3A 5V adaptÃ¶r ile sistem gÃ¼Ã§ kaynaÄŸÄ± yenilenmiÅŸ oldu. (At arpayla Elektrik Wattla ğŸ™‚ )

1,5 tl ye yaptÄ±ÄŸÄ±m 2000 lumen 2200 kelvin lamba sisteme baÄŸlandÄ±.

Mart 2017
Sistem iÃ§in yazÄ±lmÄ±ÅŸ programlar kendine Ã¶zel ayar dosyasÄ± ve dosya konumunda depolanmasÄ± iÃ§in tekrardan dÃ¼zenleniyor ve geliÅŸtiriliyor.

https://ahmetozer.org/wp-content/uploads/2016/10/Screenshot_1.jpg

Haziran 2017
Ä°ot sistemi artÄ±k Banana pi Ã¼zerinden olan GPIO Ã§Ä±kÄ±ÅŸlarÄ± ile deÄŸil Arduino kontrol ediliyor. Aradaki uln2003 yerine arduino geÃ§ti. Sistem iÃ§in kendi gpio yazÄ±lÄ±mÄ±mÄ±z yazÄ±ldÄ±.

Loadbalancer sistemi kuruldu ve test edildi. lhttp://forum.donanimhaber.com/m_126510081/tm.htm

EylÃ¼l 2017
Materyal tasarÄ±m ile Web arayÃ¼zÃ¼ hazÄ±rlanÄ±yor.

https://ahmetozer.org/wp-content/uploads/2016/10/Screenshot_2.png
